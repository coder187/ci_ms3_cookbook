{% extends "base.html"%}
{% block content%}
<h3 class="light-blue-text text-darken-4 center-align">Add Recipe</h3>

<div class="row card-panel grey lighten-5">
    <form class="col s12" method="POST" action="{{ url_for('add_recipe') }}">

        <!-- Recipe Name -->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-pencil-alt prefix light-blue-text text-darken-4"></i>
                <input id="recipe_name" type="text" name="recipe_name" minlength="5" maxlength="50" class="validate"
                    required>
                <label for="recipe_name">recipe_name</label>
            </div>
        </div>

        <!-- Recipe Description-->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-align-left prefix light-blue-text text-darken-4"></i>
                <textarea id="recipe_descr" name="recipe_descr" minlength="5" maxlength="200"
                    class="materialize-textarea validate" required></textarea>
                <label for="recipe_descr">Recipe Description</label>
            </div>
        </div>

        <!-- Select Allergens -->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-folder-open prefix light-blue-text text-darken-4"></i>
                <select id="allergens" name="allergens" class="validate" multiple required>
                    <option value="" disabled selected>Choose allergens</option>
                    {% for allergen in allergens %}
                        <option value="{{allergen.allergen}}">{{allergen.allergen}}</option>
                    {% endfor %}
                </select>
                <label for="allergens">Select Allergens</label>
            </div>
        </div>

        <!-- Select Serves -->
        <div class="row">
            <div class="input-field col l3">
                <i class="fas fa-cookie-bite prefix light-blue-text text-darken-4"></i>
                <select id="serves" name="serves" class="validate">
                    <option value="" disabled selected>Serves</option>
                    {%- for index in range(0, 10) -%}
                        <option value="{{loop.index}}">{{loop.index}}</option>
                    {% endfor %}
                </select>
                <label for="serves">Serves</label>
            </div>

            <!-- Select Difficulty -->
            <div class="input-field col l3">
                <i class="fas fa-cookie prefix light-blue-text text-darken-4"></i>
                <select id="difficulty" name="difficulty" class="validate">
                    <option value="" disabled selected>Choose Difficulty</option>
                        <option value="Easy">Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                </select>
                <label for="difficulty">Select Difficulty</label>
            </div>

            <!-- Prep Time -->
            <div class="input-field col l3">
                <i class="fas fa-pencil-alt prefix light-blue-text text-darken-4"></i>
                <input id="prep_time" type="text" name="prep_time" minlength="5" maxlength="10" class="validate">
                <label for="prep_time">Prep Time</label>
            </div>

            <!-- Cook Time -->
            <div class="input-field col l3">
                <i class="fas fa-pencil-alt prefix light-blue-text text-darken-4"></i>
                <input id="cook_time" type="text" name="cook_time" minlength="5" maxlength="50" class="validate">
                <label for="cook_time">Cook Time</label>
            </div>
        </div>
        
        <!-- Ingredients -->
        <div class="row">
            <div class="col s12">
                <fieldset>
                    <legend>Add Ingredients:</legend>
                    <button type = "button" class="btn-floating btn-large waves-effect waves-light blue" onclick="addIngredient(GetLastStepNo('ingredients-container')+1,'ingredients-container');"><i class="far fa-plus-square"></i></button>
                    <div id="ingredients-container">
                    </div>
                </fieldset>
            </div>
        </div>

        <!-- Method -->
        <div class="row">
            <div class="col s12">
                <fieldset>
                    <legend>Method Steps:</legend>
                    <button type="button" class="btn-floating btn-large waves-effect waves-light blue"
                        onclick="addIngredient(GetLastStepNo('method-container')+1,'method-container');"><i
                            class="far fa-plus-square"></i></button>
                    <div id="method-container">
                    </div>
                </fieldset>
            </div>
        </div>

        <!-- Image URL -->
        <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-image prefix light-blue-text text-darken-4"></i>
                <input id="image_url" type="text" name="image_url" minlength="5" maxlength="400" class="validate"
                placeholder="Please paste the url for your image here.">
                <label for="image_url">Image URL</label>
            </div>
        </div>
        <div class="row">
            <button type="submit" class="btn-large light-blue darken-1 text-shadow">Save Recipe</button>
        </div>
    </form>
{% endblock%}
